# 图书管理详细流程

图书管理详细工作流程,文档中的流程图:



## 登录

* **准备Form表单(action,method,name,属性,csrf_token)**
* 逻辑方法实现
  * 获取表单信息(request.POST)
  * 查库判断:(filter方法,count)
  * 判断角色
  * 跳转传参数

## 注册

* 表单

* 逻辑实现

  注册时涉及到3张表,用户表,角色表==?用户等级

  * 获取表单数据
  * 相关对象获取(角色对象==>级别对象)
  * 判断是否存在
  * 入库
    * 保存时要传入角色对象,和等级对象
  * 跳转,响应



## 查询可借图书

* 查询符合条件的所有图书
* 分页展示(后端需要)



## 查询所借图书

和可借图书类似





## 个人信息查询

涉及到多张表(读者==>读者角色===>等级)

* 从session中获取用户核心资料
* 重新查询用户信息
* 跳转传参数
* 页面展示



## 密码修改

点击按钮==>展示信息===>改==>提交

* 查询个人信心流程

* 修改流程

  涉及到多张表..用户级别(有关键,单独创建对象)

  * 表单
  * 获取表单信息
  * 相关联对象创建
  * 存储
  * 响应





## 增加图书

* 表单准备
* 获取数据
* 查相关对象
* 保存



## 借书

* 借书复选框和按钮:加在可借列表中
* 勾选所借的书只传图书编号,
* 后台获取借阅图书编号
* 根据用户级别判断是否可借这本书
  * 先查当前用户可借图书数量
  * 获取已借图书的数量
  * 判断是否能借(新借+已借<可借数量)
* 响应跳转



## 还书

* 查询已借图书列表(还书按钮)
* 还书流程



https://blog.csdn.net/qq_39038465/article/details/81478847 虚拟机和linux安装



















